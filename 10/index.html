<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width"><title>The Life of a PostgreSQL Table, Part 1 with Bruce Momjian - Compiled Conversations</title>
<meta name=description content="Bruce Momjian takes us on a deep dive into the lifecycle of a PostgreSQL table. We explore how tables are created, how data is inserted and stored, and how queries work - from physical storage and MVCC to constraints and query planning."><link rel="stylesheet" href="/css/main.016fc070c1482260051203082aaae382bb211da015a29e6b78e8615d2b9bc88c.css" integrity="sha256-AW/AcMFIImAFEgMIKqrjgrshHaAVop5reOhhXSubyIw=" crossorigin="anonymous" />
<link rel=apple-touch-icon sizes=180x180 href=/icons/apple-touch-icon-180x180.png><link rel=icon type=image/png sizes=32x32 href=/icons/favicon-32x32.png><link rel=icon type=image/png sizes=96x96 href=/icons/favicon-96x96.png><link rel=icon type=image/png sizes=16x16 href=/icons/favicon-16x16.png></head><body class="bg-white font-body"><div class="pt-16 pb-20 px-4 sm:px-6 lg:pt-24 lg:pb-28 lg:px-8"><div class="relative max-w-2xl mx-auto"><header><div class="flex flex-col items-center space-y-8 sm:items-center sm:space-y-0 sm:flex-row sm:space-x-8"><a class=flex-shrink-0 href=https://compiledconversations.com/ aria-label="Go to Compiled Conversations homepage"><span class=sr-only>Compiled Conversations</span>
<img class="h-28 w-28 sm:h-36 sm:w-36 rounded-lg object-cover" src=https://compiledconversations.com/album-art.jpg alt="Compiled Conversations"></a><div class="text-center sm:text-left"><h2 class="text-3xl leading-9 tracking-tight font-extrabold text-gray-900 sm:text-4xl sm:leading-10 font-heading"><a href=https://compiledconversations.com/>Compiled Conversations</a></h2><div class=mt-2><p class="text-xl leading-7 text-gray-500">Conversations with the people shaping software and technology. Hosted by
<a href=https://eddmann.com target=_blank>Edd Mann</a>.</p></div><nav class=mt-4 aria-label="Podcast platforms"><ul class="flex justify-center space-x-2 text-gray-400 sm:justify-start list-none"><li><a class="text-gray-600 hover:text-gray-900" href=https://podcasts.apple.com/us/podcast/compiled-conversations/id1828390930 target=_blank aria-label="Listen on Apple Podcasts">Apple Podcasts</a></li><li><span aria-hidden=true>•</span></li><li><a class="text-gray-600 hover:text-gray-900" href=https://open.spotify.com/show/4qErnd7sQYM556ntaLSKfx target=_blank aria-label="Listen on Spotify">Spotify</a></li><li><span aria-hidden=true>•</span></li><li><a class="text-gray-600 hover:text-gray-900" href=/rss.xml target=_blank aria-label="Subscribe to RSS feed">RSS</a></li></ul></nav></div></div></header><main class="border-t-2 border-gray-100 pt-8 mt-7 mb-7" role=main><article><header><p class="text-sm leading-5 text-gray-500"><time datetime=2025-10-01>Oct 1, 2025</time></p><h1 class="mt-2 text-xl leading-7 font-semibold text-gray-900 font-heading">The Life of a PostgreSQL Table, Part 1 with Bruce Momjian</h1></header><section aria-label="Audio player"><div class="audio-player my-8 w-full bg-gray-100 rounded-lg p-4 shadow" data-src=https://podcasts.compiledconversations.com/010-the-life-of-a-postgresql-table-part-1-with-bruce-momjian.mp3 data-duration=5120><div class="flex items-center space-x-4"><button class="play-pause p-3 bg-teal-600 text-white rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500" aria-label="Play or pause episode" type=button>
<svg class="icon-play h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168 9.555 8.14A1 1 0 008 8.94v6.12a1 1 0 001.555.832l5.197-3.028a1 1 0 000-1.664z"/></svg>
<svg class="icon-pause h-6 w-6 hidden" fill="none" viewBox="0 0 24 24" stroke="currentcolor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 9v6m4-6v6"/></svg>
</button>
<span class="current-time text-sm font-mono w-12" aria-label="Current time">00:00</span>
<input type=range class="seek flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer" min=0 value=0 aria-label="Seek through episode">
<span class="duration text-sm font-mono w-12" aria-label="Total duration">85:20</span></div></div></section><script>function formatTime(e){const t=Math.floor(e/60).toString().padStart(2,"0"),n=Math.floor(e%60).toString().padStart(2,"0");return`${t}:${n}`}function initAudioPlayers(){document.querySelectorAll(".audio-player").forEach(e=>{const r=e.dataset.src;let t=null;const s=e.querySelector(".play-pause"),o=s.querySelector(".icon-play"),i=s.querySelector(".icon-pause"),a=e.querySelector(".current-time"),c=e.querySelector(".duration"),n=e.querySelector(".seek");function l(){if(t!==null)return;t=new Audio(r),t.addEventListener("loadedmetadata",()=>{const e=Math.floor(t.duration);c.textContent=formatTime(e),n.max=e}),t.addEventListener("timeupdate",()=>{a.textContent=formatTime(t.currentTime),n.value=Math.floor(t.currentTime)}),t.addEventListener("ended",()=>{i.classList.add("hidden"),o.classList.remove("hidden"),a.textContent="00:00",n.value=0})}s.addEventListener("click",()=>{t===null&&l(),t.paused?(t.play(),o.classList.add("hidden"),i.classList.remove("hidden")):(t.pause(),i.classList.add("hidden"),o.classList.remove("hidden"))}),n.addEventListener("input",()=>{t!==null&&(t.currentTime=n.value)})})}document.addEventListener("DOMContentLoaded",initAudioPlayers)</script><section><div class="mt-4 prose max-w-none"><p>Bruce Momjian returns to explore the internals of PostgreSQL by way of a table&rsquo;s lifecycle.
From creation through insertion to querying, we dive deep into how Postgres actually implements tables, indexes, and queries under the hood, revealing why understanding these internals helps you make better decisions as a database user.</p><p>We examine how Postgres handles everything from physical storage to transaction visibility.
Bruce explains why constraints are critical for data integrity, how MVCC enables consistent reads without blocking writes, and how the query planner makes decisions about accessing your data.</p><p>Topics include:</p><ul><li>Table creation: physical storage, constraints, and why data types matter</li><li>Storage internals: 8KB pages, TOAST, fill factors, and how data is physically laid out</li><li>Data insertion: write-ahead logging, transaction visibility, and durability guarantees</li><li>Index types and their use cases: B-tree, BRIN, GiST, GIN, SP-GiST and when to use each</li><li>Multi-Version Concurrency Control (MVCC): how Postgres handles concurrent reads and writes</li><li>Query planning: statistics, costs, and how Postgres chooses access methods</li><li>Join strategies: nested loops, hash joins, merge joins and when each is optimal</li><li>The importance of constraints and how they protect data integrity</li><li>Sequences, transaction visibility, and dealing with concurrent operations</li></ul><p>Bruce also shares insights into why certain design decisions were made, how they compare to other databases, and practical tips for working with Postgres effectively.</p><p><em>This is Part 1 of a 2-part series. In Part 2, we&rsquo;ll explore the remaining lifecycle of a PostgreSQL table - including updating rows, altering table structure, row deletion, and finally dropping tables.</em></p><p><strong>Show Links</strong></p><p>Bruce generously shared links to all the presentations (with direct references to the discussed slides) and blog articles mentioned in the episode. You&rsquo;ll find them below:</p><ul><li><a href=https://momjian.us/ target=_blank>Bruce Momjian&rsquo;s Website</a></li><li><a href="https://momjian.us/main/writings/pgsql/scaling.pdf#page=6" target=_blank>Presentation: Postgres Scaling Opportunities (Horizontal Database Scaling)</a></li><li><a href="https://momjian.us/main/writings/pgsql/central.pdf#page=4" target=_blank>Presentation: Making Postgres Central in Your Data Center (How Is this Accomplished?)</a></li><li><a href="https://momjian.us/main/writings/pgsql/central.pdf#page=20" target=_blank>Presentation: Making Postgres Central in Your Data Center (Why Extensibility Matters Today)</a></li><li><a href=https://momjian.us/main/writings/pgsql/internalpics.pdf target=_blank>Presentation: PostgreSQL Internals Through Pictures</a></li><li><a href=https://momjian.us/main/blogs/pgblog/2012.html#January_17_2012 target=_blank>Bruce&rsquo;s Blog: Toast-y Goodness</a></li><li><a href="https://momjian.us/main/writings/pgsql/indexing.pdf#page=10" target=_blank>Presentation: Flexible Indexing with Postgres (Partial Indexes)</a></li><li><a href="https://momjian.us/main/writings/pgsql/indexing.pdf#page=24" target=_blank>Presentation: Flexible Indexing with Postgres (Index Type Summary)</a></li><li><a href="https://momjian.us/main/writings/pgsql/indexing.pdf#page=50" target=_blank>Presentation: Flexible Indexing with Postgres (When To Create Indexes)</a></li><li><a href="https://momjian.us/main/writings/pgsql/non-relational.pdf#page=35" target=_blank>Presentation: Non-Relational Postgres (JSONB)</a></li><li><a href="https://momjian.us/main/writings/pgsql/hw_selection.pdf#page=9" target=_blank>Presentation: Database Hardware Selection Guideline (Magnetic Disk I/O Stack)</a></li><li><a href=https://momjian.us/main/blogs/pgblog/2020.html#June_3_2020 target=_blank>Bruce&rsquo;s Blog: When Does a Commit Happen?</a></li><li><a href="https://momjian.us/main/writings/pgsql/mvcc.pdf#page=24" target=_blank>Presentation: MVCC Unmasked (Aborted IDs Remain)</a></li><li><a href="https://momjian.us/main/writings/pgsql/mvcc.pdf#page=10" target=_blank>Presentation: MVCC Unmasked (Snapshots Determine Row Visibility)</a></li><li><a href="https://momjian.us/main/writings/pgsql/mvcc.pdf#page=44" target=_blank>Presentation: MVCC Unmasked (Traditional Cleanup Requirements)</a></li><li><a href="https://momjian.us/main/writings/pgsql/locking.pdf#page=62" target=_blank>Presentation: Unlocking the Postgres Lock Manager (Two Concurrent Updates Show Locking)</a></li><li><a href="https://momjian.us/main/writings/pgsql/optimizer.pdf#page=17" target=_blank>Presentation: Explaining the Postgres Query Optimizer (Running ANALYZE)</a></li><li><a href="https://momjian.us/main/writings/pgsql/optimizer.pdf#page=30" target=_blank>Presentation: Explaining the Postgres Query Optimizer (Which Join Method?)</a></li><li><a href=https://momjian.us/main/blogs/pgblog/2012.html#July_9_2012 target=_blank>Bruce&rsquo;s Blog: The Externality of Index Creation</a></li><li><a href=https://momjian.us/main/blogs/pgblog/2018.html#December_12_2018 target=_blank>Bruce&rsquo;s Blog: Optimizer Hints</a></li><li><a href=https://threedevsandamaybe.com/postgres-performance-tuning-and-query-planner-with-bruce-momjian/ target=_blank>Three Devs and a Maybe - Postgres Performance Tuning and Query Planner</a></li><li><a href=https://threedevsandamaybe.com/managing-concurrency-in-postgres-with-bruce-momjian/ target=_blank>Three Devs and a Maybe - Managing Concurrency in Postgres</a></li></ul></div></section></article></main><footer class="border-t border-gray-200 py-6 text-center text-gray-500 text-sm" role=contentinfo><p>&copy; 2025, <a href=https://eddmann.com target=_blank>Edd Mann</a></p></footer></div></div></body></html>